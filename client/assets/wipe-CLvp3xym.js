import{w as h,v as f,a,o as e}from"./chunk-QMGIS6GS-DX0VMMAr.js";import{u as m}from"./puter-D5fpqPPq.js";const v=()=>{var l;const{auth:i,isLoading:t,error:r,clearError:j,fs:n,ai:w,kv:d}=m(),p=f(),[c,u]=a.useState([]),o=async()=>{const s=await n.readDir("./");u(s)};a.useEffect(()=>{o()},[]),a.useEffect(()=>{!t&&!i.isAuthenticated&&p("/auth?next=/wipe")},[t]);const x=async()=>{c.forEach(async s=>{await n.delete(s.path)}),await d.flush(),o()};return t?e.jsx("div",{children:"Loading..."}):r?e.jsxs("div",{children:["Error ",r]}):e.jsxs("div",{children:["Authenticated as: ",(l=i.user)==null?void 0:l.username,e.jsx("div",{children:"Existing files:"}),e.jsx("div",{className:"flex flex-col gap-4",children:c.map(s=>e.jsx("div",{className:"flex flex-row gap-4",children:e.jsx("p",{className:"!text-white",children:s.name})},s.id))}),e.jsx("div",{children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md cursor-pointer",onClick:()=>x(),children:"Wipe App Data"})})]})},N=h(v);export{N as default};
