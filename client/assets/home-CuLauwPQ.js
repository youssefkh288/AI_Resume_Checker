import{o as e,a as r,t as j,w as N,v as R}from"./chunk-QMGIS6GS-DX0VMMAr.js";import{N as w}from"./Navbar-ieTI-AXj.js";import{u as g}from"./puter-D5fpqPPq.js";const b=({score:o=75})=>{const t=2*Math.PI*36,n=o/100,c=t*(1-n);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#4B5563",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"1",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),e.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:t,strokeDashoffset:c,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm text-white",children:`${o}/100`})})]})},k=({resume:{id:o,companyName:s,jobTitle:i,feedback:m,imagePath:t}})=>{const{fs:n}=g(),[c,h]=r.useState("");return r.useEffect(()=>{(async()=>{const d=await n.read(t);if(!d)return;let l=URL.createObjectURL(d);h(l)})()},[t]),e.jsxs(j,{to:`/resume/${o}`,className:"resume-card animate-in fade-in duration-1000 hover:scale-105 transition-transform duration-300",children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[s&&e.jsx("h2",{className:"!text-white font-bold break-words",children:s}),i&&e.jsx("h3",{className:"text-lg break-words text-gray-400",children:i}),!s&&!i&&e.jsx("h2",{className:"!text-white font-bold",children:"Resume"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(b,{score:m.overallScore})})]}),c&&e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:c,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top rounded-lg"})})})]})};function L({}){return[{title:"Resumify"},{name:"description",content:"AI-powered resume analysis for your career success"}]}const z=N(function(){const{auth:s,isLoading:i,fs:m,kv:t}=g(),n=R(),[c,h]=r.useState(""),[a,d]=r.useState([]),[l,f]=r.useState(!1);return r.useEffect(()=>{(async()=>{f(!0);const x=await t.list("resume:*",!0),p=x==null?void 0:x.map(v=>JSON.parse(v.value));console.log("ParsedResumes",p),d(p||[]),f(!1)})()},[]),r.useEffect(()=>{s.isAuthenticated||n("/auth?next=/")},[s.isAuthenticated]),e.jsxs("main",{className:"bg-[url('/images/bg-main-dark.svg')] bg-cover",children:[e.jsx(w,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Transform Your Resume with AI Intelligence"}),!l&&(a==null?void 0:a.length)===0?e.jsx("h2",{children:"No resumes found. Upload your first resume to get feedback."}):e.jsx("h2",{children:"Review your submissions and check AI-Powered feedback."}),l&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/images/resume-scan-2.gif",className:"w-[200px]"})}),e.jsx("h2",{children:"Get instant feedback and optimize your applications for success"}),e.jsx(j,{to:"/upload",className:`w-fit px-6 py-3 rounded-xl \r
           bg-gradient-to-r from-indigo-600 to-indigo-700 \r
           text-white font-semibold shadow-md \r
           hover:from-indigo-700 hover:to-purple-600 \r
           hover:scale-105 hover:shadow-xl \r
           transition-all duration-300 ease-out \r
           text-sm sm:text-base md:text-lg`,children:"Upload Resume"})]}),!l&&a.length>0&&e.jsx("div",{className:"resumes-section my-20",children:a.map(u=>e.jsx(k,{resume:u},u.id))})]})]})});export{z as default,L as meta};
